kahpp:
  group: test
  name: transform-to-tombstone
  topics:
    source: kahpp-input
    sink: kahpp-output
  streamsConfig:
    bootstrapServers:
    - kafka:9092
    properties:
      num.stream.threads: 1
      commit.interval.ms: 0
      "kahpp.json.serializer.null_node.as.null": true
  apis:
    my-dummy-api:
      basePath: http://my-dummy-api
      options:
        rateLimit:
          requestsPerSecond: 20
          warmUpMillis: 2000
        connection:
          connectTimeoutMillis: 300
          socketTimeoutMs: 1500
  steps:
  - name: httpNoContent
    type: dev.vox.platform.kahpp.configuration.http.OkOrProduceError
    config:
      api: my-dummy-api
      path: /foo
      topic: sink
  - name: produceRecordToSinkTopic
    type: dev.vox.platform.kahpp.configuration.topic.ProduceToTopic
    config:
      topic: sink
